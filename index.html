<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640">

    <link rel="stylesheet" href="stylesheets/core.css" media="screen">
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)">
    <link rel="stylesheet" href="stylesheets/github-light.css">

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>Quick Start WordPress for Google App Engine by webhost</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/webhost/appengine-php-wordpress-starter-project">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>Quick Start WordPress for Google App Engine</h1>
            <h2>A guide for running WordPress on Google App Engine</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <section id="downloads">
        <span class="inner">
          <a href="https://github.com/webhost/appengine-php-wordpress-starter-project/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/webhost/appengine-php-wordpress-starter-project/tarball/master" class="tgz"><em>download</em> .TGZ</a>
        </span>
      </section>


      <span class="banner-fix"></span>


      <section id="main_content">
        <h2>
<a id="prerequisites" class="anchor" href="#prerequisites" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prerequisites</h2>

<ol>
<li>Install the <a href="https://developers.google.com/appengine/downloads#Google_App_Engine_SDK_for_PHP">PHP SDK for Google App Engine</a>
</li>
<li>Install <a href="http://dev.mysql.com/downloads/">MySQL</a>
</li>
<li>
<a href="http://cloud.google.com/console">Sign up</a> for a Google Cloud Platform project, and
set up a Cloud SQL instance, as described <a href="https://developers.google.com/cloud-sql/docs/instances">here</a>, and a 
Cloud Storage bucket, as described <a href="https://developers.google.com/storage/docs/signup">here</a>. You'll want to name 
your Cloud SQL instance "wordpress" to match the config files provided here.</li>
</ol>

<h2>
<a id="setup" class="anchor" href="#setup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setup</h2>

<p>Edit <code>wp-config.php</code> and <code>app.yaml</code>, replacing <code>YOUR_PROJECT_ID</code> to match the Project ID (not the name) you entered
in the Cloud Console when you signed up for a Google Cloud Platform project.</p>

<h2>
<a id="running-wordpress-locally" class="anchor" href="#running-wordpress-locally" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running WordPress locally</h2>

<p>Using MySQL, run <code>databasesetup.sql</code> to set up your local database. For a default installation (no root password) 
this would be: </p>

<pre><code>/usr/local/mysql/bin/mysql -u root &lt; databasesetup.sql
</code></pre>

<p>But really, all it's doing is running this line -- the WordPress installation script will do the heavy lifting when it comes to setting up your database. </p>

<pre><code>CREATE DATABASE IF NOT EXISTS wordpress_db;
</code></pre>

<p>To run WordPress locally on Windows and OS X, you can use the 
<a href="https://developers.google.com/appengine/downloads#Google_App_Engine_SDK_for_PHP">Launcher</a> 
by going to <strong>File &gt; Add Existing Project</strong> or you can run one of the commands below. </p>

<p>On Mac and Windows, the default is to use the PHP binaries bundled with the SDK:</p>

<pre><code>$ dev_appserver.py path_to_this_directory
</code></pre>

<p>Now, with App Engine running locally, visit <code>http://localhost:8080/wp-admin/install.php</code> in your browser and run  the setup process, changing the port number from 8080 if you aren't using the default. 
You should be able to log in, and confirm that your app is ready to deploy. </p>

<h3>
<a id="deploy" class="anchor" href="#deploy" aria-hidden="true"><span class="octicon octicon-link"></span></a>Deploy!</h3>

<p>If all looks good, you can upload your application using the Launcher or by using this command:</p>

<pre><code>$ appcfg.py update APPLICATION_DIRECTORY
</code></pre>

<p>Just like you had to do with the local database, you'll need to set up the Cloud SQL instance. The SDK includes
a tool for doing just that:</p>

<pre><code>google_sql.py &lt;PROJECT_ID&gt;:wordpress
</code></pre>

<p>This launches a browser window that authorizes the <code>google_sql.py</code> tool to connect to your Cloud SQL instance. After clicking <strong>Accept</strong>, you can return to the command prompt, which has entered into the SQL command tool and is now connected to your instance. Next to <code>sql&gt;</code>, enter this command:</p>

<pre><code>CREATE DATABASE IF NOT EXISTS wordpress_db;    
</code></pre>

<p>You should see that it inserted 1 row of data creating the database. You can now type <code>exit</code> -- we're done here.</p>

<p>Now, just like you did when WordPress was running locally, you'll need to run the install script by visiting:</p>

<pre><code>http://&lt;PROJECT_ID&gt;.appspot.com/wp-admin/install.php
</code></pre>

<h2>
<a id="youre-done" class="anchor" href="#youre-done" aria-hidden="true"><span class="octicon octicon-link"></span></a>You're done!</h2>

<p>Congratulations! You should now have a blog that loads rapidly, caches elegantly, 
sends email properly, and can support adding images and other media to blog posts! Most importantly, 
it will take advantage of Google's incredibly powerful infrastructure and scale gracefully to
accomodate traffic that is hitting your blog.</p>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/webhost">webhost</a> can be found on <a href="https://github.com/webhost/appengine-php-wordpress-starter-project">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="https://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-63003582-4");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
